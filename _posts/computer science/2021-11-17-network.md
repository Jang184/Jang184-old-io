---
title: CS Network
category: CS
tag: 
    - TIL
    - network
---

## 프로토콜

우리가 한국어나 영어와 같은 언어로 대화를 하는 것처럼, 컴퓨터 통신에서는 네트워크 아키텍쳐를 이용한다. 즉, 대화에 사용하는 언어에 해당하는 것이 네트워크 아키텍쳐다.



언어에는 문자, 표기법, 발음, 문법 등 다양한 규칙이 있다. 네트워크 아키텍처도 이와 마찬가지로 통신 상대를 지정하는 법, 다시 말해 주소나 데이터 형식, 통신 절차 등의 규칙이 필요하다. 통신에 필요한 규칙을 프로토콜 이라고 한다. 프로토콜의 집합이 바로 네트워크 아키텍처가 된다.



네트워크 아키텍처에는 몇 가지 종류가 있는데 현재는 대부분 TCP/IP를 이용한다. 이른바 네트워크의 공통 언어라고 할 수 있다. TCP/IP에서는 네트워크를 통해 애플리케이션의 데이터를 주고받기 위해, 역할별로 네 가지로 계층화된 복수의 프로토콜을 조합한다.<br>
프로토콜을 계층화하면 나중에 변경하거나 확장하기 쉽다는 장점이 있다. 예를 들어, 프로토콜을 변경하거나 기능을 추가할 때는 기본적으로 그 프로토콜만 생각하면 된다.

```
<네트워크 아키텍쳐의 예>

TCP/IP , OSI, Microsoft NETBEUI, Novell IPX/SPX, Apple Appletalk, IBM SNA
```
### TCP/IP의 계층구조
TCP/IP에서는 네트워크를 통해 통신하기 위한 기능을 계층화하고 복수의 프로토콜을 조합하여 실현했다. TCP/IP의 계층구초는 4계층으로 모든 층의 프로토콜이 정상적으로 제기능을 해야 통신이 이루어진다.

\<TCP/IP의 계층\>

|애플리케이션층| HTTP, SMTP, POP3, DNS 등
|트랜스포트층| TCP/UDP
|인터넷층| IP, ICMP 등
|네트워크 인터페이스층| 이더넷, 무선 LAN 등

#### 네트워크 인터페이스층

네트워크 인터페이스층의 역할은 같은 네트워크 안에서 데이터를 전송하는 것이다. 

#### 인터넷층

한 네트워크에 모든 기기가 연결 되는 것이 아니라 많은 네트워크가 존재하고 거기에 다양한 기기가 연결된다. 인터넷층은 그 네트워크 사이에서 데이터를 전송하는 역할을 한다.


네트워크끼리 연결하고 데이터를 전송하는 기기가 라우터다. 라우터에 의한 네트워크 간 전송을 가리켜 라우팅이라고 한다. 또한, 원격지 네트워크에서 최종적인 출발지와 목적지 사이의 데이터 전송을 가리켜 엔드투엔드 통신이라고 한다.

#### 트랜스포트층

트랜스포트층은 데이터를 적절한 애플리케이션에 분배한다. 최하층부터 트랜스포트층까지 바르게 동작하면 출발지와 목적지 애플리케이션 간에 데이터를 송수신할 수 있게 된다. 트랜스포트층에 포함되는 프로토콜은 TCP와 UDP가 있다. TCP를 이용하면 데이터가 유실되어도 그 사실을 검출해 데이터를 다시 보내준다. TCP에는 엔드투엔드의 신뢰성을 확보해 주는 기능이 있다. 그밖에도 데이터의 분할과 조립 등도 수행한다.

#### 애플리케이션층

애플리케이션층은 애플리케이션의 기능을 실행하기 위한 데이터의 형식과 처리 절차 등을 결정한다.단순한 0과 1이 아니라 문자와 이미지 등 인간이 인식할 수 있도록 데이터를 표현한다. 


### IP란?

> IP의 역할은 엔드투엔드 통신을 하는 것이다!

네트워크 상의 어떤 PC에서 다른 PC등으로 데이터를 전송하는 것이 IP의 역할이다. IP헤더에 있는 IP주소가 데이터의 출발지와 목적지를 나타낸다. IP주소는 네트워크부와 호스트부라는 두 개의 부분으로 구성된다. 사내 네트워크와 인터넷 등은 복수의 네트워크가 라우터 또는 레이어3 스위치로 서로 연결되어 있다. IP주소의 전반의 네트워크부를 이용해 각 네트워크를 식별하고 후반의 호스트부로 네트워크 내 호스트를 식별한다. 



네트워크부와 호스트부는 가변적이다. 32비트 IP주소의 어디까지가 네트워크부인지 명시한 것이 서브넷 마스크이다. 서브넷 마스크는 IP주소처럼 32비트이므로 0과 1이 32개 나열된다. 1은 네트워크부를, 0은 호스트부를 나타낸다. 





## 네트워크 기기

네트워크를 구성하는 구체적인 네트워크 기기로는 라우터, 레이어2 스위치, 레이어3 스위치가 있다. 이 네트워크 기기들은 모두 데이터를 전송한다. 데이터 전송 처리는 다음 세 단계로 이루어진다.


### 1. 데이터수신

전기 신호 등 물리적 신호로 변환된 데이터를 원래 디지털 신호로 되돌린다.

### 2. 데이터를 보낼 곳을 결정

데이터에 부가된 제어 정보를 참조하여 전송할 곳을 결정한다.

### 3. 데이터 전송

데이터를 물리적인 신호로 변환해서 내보낸다.



네트워크 기기의 차이는 두번째 단계에 있다. 데이터에는 다양한 제어 정보가 부가되고 네트워크 기기의 동작 메커니즘에서는 어느 제어 정보를 참조해서 데이터를 보낼 곳을 결정하는 지가 중요하다.

## 네트워크 구성

### 인터페이스

네트워크 기기끼리나 PC, 서버 등을 연결하기 위해 각각의 기기에는 인터페이스가 갖추어져 있다. 현재 가장 일반적으로 이용되는 것은 이더넷 인터페이스다. 인터페이스는 포트라고 불리기도 한다.

### 전송매체와 링크

각 기기에 달린 인터페이스끼리 연결한다. 인터페이스를 서로 연결하는 케이블을 전송매체라고 한다. 



> 다양한 기기의 인터페이스를 전송 매체로 연결해 링크를 구성함으로써 네트워크가 형성된다.ㅡ,, 